{% extends "layout.html" %}

{% block content %}
<div class="max-w-6xl mx-auto">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">My Profile</h1>
    <p class="text-gray-600 dark:text-gray-400">Manage your personal information and professional details.</p>
  </div>

  <form method="POST" enctype="multipart/form-data" class="space-y-8">
    <!-- Profile Picture Section -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Profile Picture</h2>
      
      <div class="flex items-center space-x-6">
        <div class="relative">
          {% if profile.profile_picture %}
            <img src="{{ url_for('static', filename=profile.profile_picture) }}" 
                 alt="Profile Picture" 
                 class="w-24 h-24 rounded-full object-cover border-4 border-gray-200 dark:border-gray-600">
          {% else %}
            <div class="w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center">
              <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
            </div>
          {% endif %}
        </div>
        
        <div class="flex-1">
          <label for="profile_picture" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Upload New Picture
          </label>
          <input type="file" name="profile_picture" id="profile_picture" accept="image/*"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">JPG, PNG or GIF. Max 5MB.</p>
        </div>
      </div>
    </div>

    <!-- Personal Information -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Personal Information</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Phone Number
          </label>
          <input type="tel" name="phone" id="phone" value="{{ profile.phone or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="address" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Address
          </label>
          <input type="text" name="address" id="address" value="{{ profile.address or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="emergency_contact" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Emergency Contact Name
          </label>
          <input type="text" name="emergency_contact" id="emergency_contact" value="{{ profile.emergency_contact or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="emergency_phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Emergency Contact Phone
          </label>
          <input type="tel" name="emergency_phone" id="emergency_phone" value="{{ profile.emergency_phone or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
      </div>
    </div>

    <!-- Professional Information -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Professional Information</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="department" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Department
          </label>
          <select name="department" id="department"
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            <option value="">Select department</option>
            <option value="IT" {% if profile.department == 'IT' %}selected{% endif %}>IT</option>
            <option value="HR" {% if profile.department == 'HR' %}selected{% endif %}>HR</option>
            <option value="Finance" {% if profile.department == 'Finance' %}selected{% endif %}>Finance</option>
            <option value="Marketing" {% if profile.department == 'Marketing' %}selected{% endif %}>Marketing</option>
            <option value="Sales" {% if profile.department == 'Sales' %}selected{% endif %}>Sales</option>
            <option value="Operations" {% if profile.department == 'Operations' %}selected{% endif %}>Operations</option>
            <option value="Engineering" {% if profile.department == 'Engineering' %}selected{% endif %}>Engineering</option>
          </select>
        </div>
        
        <div>
          <label for="position" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Position
          </label>
          <input type="text" name="position" id="position" value="{{ profile.position or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="hire_date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Hire Date
          </label>
          <input type="date" name="hire_date" id="hire_date" value="{{ profile.hire_date or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="manager" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Manager
          </label>
          <input type="text" name="manager" id="manager" value="{{ profile.manager or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="work_location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Work Location
          </label>
          <input type="text" name="work_location" id="work_location" value="{{ profile.work_location or '' }}"
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="employment_type" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Employment Type
          </label>
          <select name="employment_type" id="employment_type"
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            <option value="">Select type</option>
            <option value="Full-time" {% if profile.employment_type == 'Full-time' %}selected{% endif %}>Full-time</option>
            <option value="Part-time" {% if profile.employment_type == 'Part-time' %}selected{% endif %}>Part-time</option>
            <option value="Contract" {% if profile.employment_type == 'Contract' %}selected{% endif %}>Contract</option>
            <option value="Intern" {% if profile.employment_type == 'Intern' %}selected{% endif %}>Intern</option>
          </select>
        </div>
        
        <div>
          <label for="salary_band" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Salary Band
          </label>
          <select name="salary_band" id="salary_band"
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            <option value="">Select band</option>
            <option value="Band 1" {% if profile.salary_band == 'Band 1' %}selected{% endif %}>Band 1</option>
            <option value="Band 2" {% if profile.salary_band == 'Band 2' %}selected{% endif %}>Band 2</option>
            <option value="Band 3" {% if profile.salary_band == 'Band 3' %}selected{% endif %}>Band 3</option>
            <option value="Band 4" {% if profile.salary_band == 'Band 4' %}selected{% endif %}>Band 4</option>
            <option value="Band 5" {% if profile.salary_band == 'Band 5' %}selected{% endif %}>Band 5</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Skills & Interests -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Skills & Interests</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="skills" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Skills
          </label>
          <textarea name="skills" id="skills" rows="4" placeholder="List your technical and soft skills..."
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none">{{ profile.skills or '' }}</textarea>
        </div>
        
        <div>
          <label for="interests" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Interests
          </label>
          <textarea name="interests" id="interests" rows="4" placeholder="Share your professional interests and hobbies..."
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none">{{ profile.interests or '' }}</textarea>
        </div>
      </div>
      
      <div class="mt-6">
        <label for="bio" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          Bio
        </label>
        <textarea name="bio" id="bio" rows="4" placeholder="Tell us about yourself..."
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none">{{ profile.bio or '' }}</textarea>
      </div>
    </div>

    <!-- Social Links -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Social Links</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div>
          <label for="linkedin" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            LinkedIn
          </label>
          <input type="url" name="linkedin" id="linkedin" value="{{ profile.linkedin or '' }}" placeholder="https://linkedin.com/in/..."
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="github" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            GitHub
          </label>
          <input type="url" name="github" id="github" value="{{ profile.github or '' }}" placeholder="https://github.com/..."
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <div>
          <label for="website" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Personal Website
          </label>
          <input type="url" name="website" id="website" value="{{ profile.website or '' }}" placeholder="https://..."
                 class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        </div>
      </div>
    </div>

    <!-- Save Button -->
    <div class="flex justify-end">
      <button type="submit" class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition duration-200">
        Save Profile
      </button>
    </div>
  </form>

  <!-- Profile Summary -->
  {% if profile.last_updated %}
  <div class="mt-8 bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
    <p class="text-sm text-gray-600 dark:text-gray-400">
      Last updated: {{ profile.last_updated }}
    </p>
  </div>
  {% endif %}
</div>
{% endblock %}
