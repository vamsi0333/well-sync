{% extends "admin_layout.html" %}

{% block content %}
<div class="max-w-4xl mx-auto">
  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">Edit Employee</h1>
        <p class="text-gray-600 dark:text-gray-400">Update employee information and details.</p>
      </div>
      <a href="{{ url_for('admin_employees') }}" 
         class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition duration-200">
        Back to Employees
      </a>
    </div>
  </div>

  <!-- Edit Form -->
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6">
    <form method="POST" enctype="multipart/form-data">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Personal Information -->
        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Personal Information</h3>
          
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
            <input type="text" name="name" id="name" value="{{ employee.name }}"
                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
          
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
            <input type="email" name="email" id="email" value="{{ employee.email }}"
                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
          
          <div>
            <label for="phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Phone</label>
            <input type="tel" name="phone" id="phone" value="{{ employee.phone }}"
                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
          
          <div>
            <label for="address" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Address</label>
            <textarea name="address" id="address" rows="3"
                      class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">{{ employee.address }}</textarea>
          </div>
        </div>

        <!-- Professional Information -->
        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Professional Information</h3>
          
          <div>
            <label for="department" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Department</label>
            <select name="department" id="department"
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
              <option value="IT" {% if employee.department == 'IT' %}selected{% endif %}>IT</option>
              <option value="HR" {% if employee.department == 'HR' %}selected{% endif %}>HR</option>
              <option value="Finance" {% if employee.department == 'Finance' %}selected{% endif %}>Finance</option>
              <option value="Marketing" {% if employee.department == 'Marketing' %}selected{% endif %}>Marketing</option>
              <option value="Sales" {% if employee.department == 'Sales' %}selected{% endif %}>Sales</option>
              <option value="Operations" {% if employee.department == 'Operations' %}selected{% endif %}>Operations</option>
            </select>
          </div>
          
          <div>
            <label for="position" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Position</label>
            <input type="text" name="position" id="position" value="{{ employee.position }}"
                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
          
          <div>
            <label for="hire_date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Hire Date</label>
            <input type="date" name="hire_date" id="hire_date" value="{{ employee.hire_date }}"
                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
          
          <div>
            <label for="manager" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Manager</label>
            <input type="text" name="manager" id="manager" value="{{ employee.manager }}"
                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
        </div>
      </div>

      <!-- Employment Details -->
      <div class="mt-6 space-y-4">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Employment Details</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <label for="employment_type" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Employment Type</label>
            <select name="employment_type" id="employment_type"
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
              <option value="Full-time" {% if employee.employment_type == 'Full-time' %}selected{% endif %}>Full-time</option>
              <option value="Part-time" {% if employee.employment_type == 'Part-time' %}selected{% endif %}>Part-time</option>
              <option value="Contract" {% if employee.employment_type == 'Contract' %}selected{% endif %}>Contract</option>
              <option value="Intern" {% if employee.employment_type == 'Intern' %}selected{% endif %}>Intern</option>
            </select>
          </div>
          
          <div>
            <label for="work_location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Work Location</label>
            <select name="work_location" id="work_location"
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
              <option value="Office" {% if employee.work_location == 'Office' %}selected{% endif %}>Office</option>
              <option value="Remote" {% if employee.work_location == 'Remote' %}selected{% endif %}>Remote</option>
              <option value="Hybrid" {% if employee.work_location == 'Hybrid' %}selected{% endif %}>Hybrid</option>
            </select>
          </div>
          
          <div>
            <label for="status" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Status</label>
            <select name="status" id="status"
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
              <option value="Active" {% if employee.status == 'Active' %}selected{% endif %}>Active</option>
              <option value="Inactive" {% if employee.status == 'Inactive' %}selected{% endif %}>Inactive</option>
              <option value="On Leave" {% if employee.status == 'On Leave' %}selected{% endif %}>On Leave</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Profile Picture -->
      <div class="mt-6">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Profile Picture</h3>
        
        <div class="flex items-center space-x-4">
          <div class="w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center">
            {% if employee.profile_picture %}
            <img src="{{ url_for('static', filename=employee.profile_picture) }}" 
                 alt="Profile Picture" class="w-20 h-20 rounded-full object-cover">
            {% else %}
            <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            {% endif %}
          </div>
          
          <div>
            <label for="profile_picture" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Upload New Picture</label>
            <input type="file" name="profile_picture" id="profile_picture" accept="image/*"
                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
        </div>
      </div>

      <!-- Submit Buttons -->
      <div class="mt-8 flex justify-end space-x-4">
        <a href="{{ url_for('admin_employees') }}" 
           class="px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition duration-200">
          Cancel
        </a>
        <button type="submit" 
                class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition duration-200">
          Update Employee
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %} 